CREATE DATABASE  IF NOT EXISTS `musicdb` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;
USE `musicdb`;
-- MySQL dump 10.13  Distrib 8.0.43, for Win64 (x86_64)
--
-- Host: 127.0.0.1    Database: musicdb
-- ------------------------------------------------------
-- Server version	8.0.43

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `album`
--

DROP TABLE IF EXISTS `album`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `album` (
  `id` int NOT NULL AUTO_INCREMENT,
  `title` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `release_date` date DEFAULT NULL,
  `cover_url` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `info` text COLLATE utf8mb4_unicode_ci,
  `artist_id` int NOT NULL,
  `active` tinyint(1) DEFAULT '1',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_title` (`title`),
  KEY `idx_release_date` (`release_date`),
  KEY `idx_artist` (`artist_id`),
  CONSTRAINT `album_ibfk_1` FOREIGN KEY (`artist_id`) REFERENCES `artist` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `album`
--

LOCK TABLES `album` WRITE;
/*!40000 ALTER TABLE `album` DISABLE KEYS */;
INSERT INTO `album` VALUES (3,'Tuyển tập Chillout 2022','2022-11-20','\\media\\images\\album1.jpg',NULL,2,1,'2025-11-02 05:13:52','2025-11-03 13:25:22'),(4,'Blue Notes','2019-05-10','\\media\\images\\album1.jpg',NULL,3,1,'2025-11-02 05:13:52','2025-11-03 13:25:22'),(7,'em','2025-11-22','/uploads/covers/b67ca0b97c8647692e6f779334444107b.jpg',NULL,23,1,'2025-11-06 03:26:52','2025-11-06 22:42:48');
/*!40000 ALTER TABLE `album` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `artist`
--

DROP TABLE IF EXISTS `artist`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `artist` (
  `id` int NOT NULL AUTO_INCREMENT,
  `user_id` int NOT NULL,
  `stage_name` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `bio` text COLLATE utf8mb4_unicode_ci,
  `avatar_url` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `active` tinyint(1) DEFAULT '1',
  `registration_status` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'PENDING' COMMENT 'PENDING, APPROVED, REJECTED',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `user_id` (`user_id`),
  KEY `idx_stage_name` (`stage_name`),
  KEY `idx_user_id` (`user_id`),
  CONSTRAINT `artist_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=28 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `artist`
--

LOCK TABLES `artist` WRITE;
/*!40000 ALTER TABLE `artist` DISABLE KEYS */;
INSERT INTO `artist` VALUES (2,6,'Mai Mộng Mơ','Chuyên gia nhạc Lofi và Ambient.','\\media\\images\\album1.jpg',1,'APPROVED','2025-11-02 05:13:52','2025-11-05 04:44:22'),(3,7,'Jazz Man','Nghệ sĩ nhạc Jazz fusion kinh nghiệm.','\\media\\images\\album1.jpg',1,'APPROVED','2025-11-02 05:13:52','2025-11-05 04:44:22'),(4,4,'hieu',NULL,'\\media\\images\\album1.jpg',1,'APPROVED','2025-11-02 06:08:41','2025-11-05 04:44:22'),(5,1,'Hien The First','Nghệ sĩ pop-ballad.','\\media\\images\\album1.jpg',1,'PENDING','2025-11-02 06:11:11','2025-11-03 13:20:50'),(6,2,'L.A.M.E','Rapper underground.','\\media\\images\\album1.jpg',1,'APPROVED','2025-11-02 06:11:11','2025-11-05 04:44:22'),(7,3,'Jazz-Man','Nghệ sĩ Jazz.','/uploads/avatars/38d28da310bb68cb04ca924610998a23fb.jpg',1,'APPROVED','2025-11-02 06:11:11','2025-11-06 02:41:25'),(23,28,'a','ỏ','\\media\\images\\album1.jpg',1,'APPROVED','2025-11-06 01:44:30','2025-11-06 15:49:04');
/*!40000 ALTER TABLE `artist` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `category`
--

DROP TABLE IF EXISTS `category`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `slug` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'URL thân thiện',
  `description` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `image_url` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Link ảnh bìa của thể loại',
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`),
  UNIQUE KEY `slug` (`slug`)
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `category`
--

LOCK TABLES `category` WRITE;
/*!40000 ALTER TABLE `category` DISABLE KEYS */;
INSERT INTO `category` VALUES (15,'Pop','pop','Nhạc Pop thịnh hành','2025-11-03 02:54:01','\\media\\images\\album1.jpg'),(16,'Hip-Hop','hip-hop','Nhạc Rap và Hip-Hop','2025-11-03 02:54:01','\\media\\images\\album1.jpg'),(17,'Indie','indie','Nhạc độc lập','2025-11-03 02:54:01','\\media\\images\\album1.jpg'),(18,'Rock','rock','Nhạc Rock','2025-11-03 02:54:01','\\media\\images\\album1.jpg'),(19,'EDM','edm','Nhạc điện tử','2025-11-03 02:54:01','\\media\\images\\album1.jpg'),(21,'Jazz','jazz','Nhạc Jazz','2025-11-03 02:54:01','\\media\\images\\album1.jpg'),(22,'Lofi','lofi','Lofi beats to study/relax','2025-11-03 03:04:52','\\media\\images\\album1.jpg'),(23,'Kpop','kpop','Nhạc hàn','2025-11-03 03:04:52','\\media\\images\\album1.jpg');
/*!40000 ALTER TABLE `category` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `follow`
--

DROP TABLE IF EXISTS `follow`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `follow` (
  `follower_id` int NOT NULL,
  `following_id` int NOT NULL,
  `active` tinyint(1) NOT NULL DEFAULT '1',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`follower_id`,`following_id`),
  KEY `following_id` (`following_id`),
  CONSTRAINT `follow_ibfk_1` FOREIGN KEY (`follower_id`) REFERENCES `user` (`id`) ON DELETE CASCADE,
  CONSTRAINT `follow_ibfk_2` FOREIGN KEY (`following_id`) REFERENCES `artist` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `follow`
--

LOCK TABLES `follow` WRITE;
/*!40000 ALTER TABLE `follow` DISABLE KEYS */;
INSERT INTO `follow` VALUES (28,2,1,'2025-11-08 01:15:01'),(28,3,1,'2025-11-09 22:43:06'),(28,4,1,'2025-11-08 01:11:40'),(28,6,1,'2025-11-08 01:12:07'),(28,7,1,'2025-11-09 22:43:14'),(33,3,1,'2025-11-09 21:36:48'),(33,4,1,'2025-11-09 21:06:27'),(33,6,1,'2025-11-09 21:36:56');
/*!40000 ALTER TABLE `follow` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `history`
--

DROP TABLE IF EXISTS `history`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `history` (
  `id` int NOT NULL AUTO_INCREMENT,
  `user_id` int NOT NULL,
  `song_id` int NOT NULL,
  `duration_listened` int DEFAULT NULL,
  `listened_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `user_id` (`user_id`),
  KEY `song_id` (`song_id`),
  CONSTRAINT `history_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`) ON DELETE CASCADE,
  CONSTRAINT `history_ibfk_2` FOREIGN KEY (`song_id`) REFERENCES `song` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=50 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `history`
--

LOCK TABLES `history` WRITE;
/*!40000 ALTER TABLE `history` DISABLE KEYS */;
INSERT INTO `history` VALUES (40,33,6,2,'2025-11-09 22:07:28');
/*!40000 ALTER TABLE `history` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `lyrics`
--

DROP TABLE IF EXISTS `lyrics`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `lyrics` (
  `id` int NOT NULL AUTO_INCREMENT,
  `song_id` int NOT NULL,
  `lyrics` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `language` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT 'vi' COMMENT 'vi, en, ...',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `song_id` (`song_id`),
  KEY `idx_song_id` (`song_id`),
  FULLTEXT KEY `ft_lyrics` (`lyrics`),
  CONSTRAINT `lyrics_ibfk_1` FOREIGN KEY (`song_id`) REFERENCES `song` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `lyrics`
--

LOCK TABLES `lyrics` WRITE;
/*!40000 ALTER TABLE `lyrics` DISABLE KEYS */;
INSERT INTO `lyrics` VALUES (2,7,'Đây là lời bài hát test cho bài ID 6.Nơi mọi lỗi lầm được sửa chữa.[Chorus]Lame Music, Lame Music, Code chạy ngon lành!','en','2025-11-02 05:13:52','2025-11-08 18:55:30'),(4,6,'Đây là lời bài hát test cho bài ID 6.\nNơi mọi lỗi lầm được sửa chữa.\n\n[Chorus]\nLame Music, Lame Music, Code chạy ngon lành!','vi','2025-11-02 21:54:36','2025-11-02 21:54:36');
/*!40000 ALTER TABLE `lyrics` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `otp`
--

DROP TABLE IF EXISTS `otp`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `otp` (
  `user_id` int NOT NULL,
  `code` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL,
  `expires_at` datetime NOT NULL,
  PRIMARY KEY (`user_id`),
  CONSTRAINT `otp_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `otp`
--

LOCK TABLES `otp` WRITE;
/*!40000 ALTER TABLE `otp` DISABLE KEYS */;
INSERT INTO `otp` VALUES (11,'626445','2025-11-08 02:24:09'),(28,'734810','2025-11-08 04:32:26'),(32,'145518','2025-11-08 02:25:51');
/*!40000 ALTER TABLE `otp` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `playlist`
--

DROP TABLE IF EXISTS `playlist`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `playlist` (
  `id` int NOT NULL AUTO_INCREMENT,
  `user_id` int NOT NULL COMMENT 'Chủ sở hữu playlist',
  `name` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `is_active` tinyint DEFAULT '1' COMMENT '0=Ẩn (Xóa mềm), 1=Hiện (Active)',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `is_private` tinyint DEFAULT '0' COMMENT '0=Công khai (Public), 1=Riêng tư (Private)',
  PRIMARY KEY (`id`),
  KEY `idx_user_id` (`user_id`),
  KEY `idx_name` (`name`),
  CONSTRAINT `playlist_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=26 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `playlist`
--

LOCK TABLES `playlist` WRITE;
/*!40000 ALTER TABLE `playlist` DISABLE KEYS */;
INSERT INTO `playlist` VALUES (24,28,'a',1,'2025-11-08 05:56:06','2025-11-08 05:56:06',0),(25,28,'b',1,'2025-11-08 05:57:27','2025-11-08 05:57:27',1);
/*!40000 ALTER TABLE `playlist` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `playlist_songs`
--

DROP TABLE IF EXISTS `playlist_songs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `playlist_songs` (
  `playlist_id` int NOT NULL,
  `song_id` int NOT NULL,
  `added_at` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`playlist_id`,`song_id`),
  KEY `idx_song_id` (`song_id`),
  CONSTRAINT `playlist_songs_ibfk_1` FOREIGN KEY (`playlist_id`) REFERENCES `playlist` (`id`) ON DELETE CASCADE,
  CONSTRAINT `playlist_songs_ibfk_2` FOREIGN KEY (`song_id`) REFERENCES `song` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `playlist_songs`
--

LOCK TABLES `playlist_songs` WRITE;
/*!40000 ALTER TABLE `playlist_songs` DISABLE KEYS */;
INSERT INTO `playlist_songs` VALUES (24,8,'2025-11-08 08:33:30');
/*!40000 ALTER TABLE `playlist_songs` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `role`
--

DROP TABLE IF EXISTS `role`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `role` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `description` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `role`
--

LOCK TABLES `role` WRITE;
/*!40000 ALTER TABLE `role` DISABLE KEYS */;
INSERT INTO `role` VALUES (1,'admin','Quản trị viên hệ thống','2025-11-02 02:51:54'),(2,'listener','Người nghe nhạc','2025-11-02 02:51:54'),(3,'artist','Nghệ sĩ','2025-11-02 02:51:54');
/*!40000 ALTER TABLE `role` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `song`
--

DROP TABLE IF EXISTS `song`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `song` (
  `id` int NOT NULL AUTO_INCREMENT,
  `title` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `duration` int unsigned DEFAULT NULL COMMENT 'Thời lượng (giây)',
  `file_url` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `image_url` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Ảnh bìa riêng của bài hát',
  `album_id` int DEFAULT NULL,
  `artist_id` int NOT NULL,
  `play_count` bigint DEFAULT '0',
  `active` tinyint(1) DEFAULT '1',
  `status` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'PENDING' COMMENT 'PENDING, APPROVED, REJECTED',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `genre` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Thể loại của bài hát (Pop, Rock,...)',
  `track_number` int DEFAULT NULL COMMENT 'Thứ tự bài hát trong Album',
  `embedding` json DEFAULT NULL COMMENT 'Vector nhúng dùng cho phân tích AI',
  PRIMARY KEY (`id`),
  KEY `idx_title` (`title`),
  KEY `idx_album` (`album_id`),
  KEY `idx_artist` (`artist_id`),
  KEY `idx_play_count` (`play_count`),
  KEY `idx_genre` (`genre`),
  FULLTEXT KEY `ft_title` (`title`),
  CONSTRAINT `song_ibfk_1` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`) ON DELETE SET NULL,
  CONSTRAINT `song_ibfk_2` FOREIGN KEY (`artist_id`) REFERENCES `artist` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `song`
--

LOCK TABLES `song` WRITE;
/*!40000 ALTER TABLE `song` DISABLE KEYS */;
INSERT INTO `song` VALUES (5,'Lofi Cafe Buổi Sáng',420,'/uploads/music/1a72b0ba91474783b09e10280b19851b.mp3','\\media\\images\\album1.jpg',3,2,80022,1,'APPROVED','2025-11-02 05:13:52','2025-11-10 04:56:16','Pop',NULL,'[0.9164187596345456, -0.7192628198472104, -0.9527677057223488, 0.997261307345829, -0.6314927085942939, -0.75881587356935, 0.3028424811158388, -0.3087103248748666, 0.7791018795916058, -0.536517020027848, 0.9189701236733988, -0.3610963228925264, 0.20228457717799309, 0.8641752086877563, 0.3705207367707548, 0.8476983372868745, 0.4162299615678966, -0.9031193319388576, 0.7627347710925125, 0.1791116336579992, -0.3786375906837194, -0.6197343739788068, 0.699616955393072, 0.1656477828449383, 0.8759778101576083, 0.5479042825556135, 0.922384097430606, 0.13262583406525708, 0.39677061626961474, 0.22464924059529845, -0.483178180687853, 0.9134340493854608, -0.375055254984914, 0.5622191856907457, 0.9092686765799892, 0.30175208323138025, -0.7155532199215013, 0.6504519175083006, 0.3350015236718551, -0.6299432600750072, -0.901749784612384, 0.0636331424299601, -0.9354713347645642, 0.8501617945966817, 0.012559373442455168, 0.03462329331395586, -0.18111575547947975, 0.32199966794946167, 0.8329271105655722, -0.3853873973597308, -0.2524430543599494, 0.16518773176078705, -0.4053629700015082, 0.1912689739659892, 0.08624102960728064, -0.1330563164122951, 0.34647543578160933, 0.05648142736170203, -0.8237810866450004, 0.9929682976564164, -0.28860063703997296, -0.13648131815750086, -0.19439367863448065, 0.8590083843645755, 0.9043135672352718, 0.023986939173102684, -0.19868187596264764, -0.8068683079037104, 0.7910008012271457, -0.6572082038200979, 0.09325205350302944, -0.3017224493793178, -0.3434239043328986, -0.2855836953290869, -0.6174793326320518, -0.9260495146689036, 0.07090500197699257, 0.5918145742839882, 0.29415522126916627, -0.5969850472274754, 0.3873078838139592, -0.8958158314965079, -0.17850673016916918, 0.6562014989192466, 0.8420301912289556, -0.07884812290639309, 0.6930664050588826, -0.002936710303507173, 0.04791099035098334, 0.1690863115221939, 0.9825686169244974, 0.4873564967266082, -0.05392473226528782, 0.45450799265301134, 0.28653543761501066, -0.292453438717881, 0.5683488415297102, 0.6395903946118644, 0.2168156841230371, 0.8854556548518229, -0.963621062236562, 0.00001697764170938143, 0.2691536406285957, -0.318852423172435, -0.6572424228636078, 0.384156101895758, -0.131201480329882, -0.4620066258710802, -0.916265784555132, 0.9342688052441934, -0.2954419452125585, -0.7638173849413794, -0.567305959248287, -0.49010366966373, 0.7323927740459335, -0.6386930492026062, -0.4472691453616049, -0.8052916291218744, -0.06007871600324366, -0.5845732777898973, -0.31173725251041695, 0.46980965000644614, 0.8501203138347182, 0.6683045503558775, -0.9234360868081606, -0.2444909685682719, 0.6978855375139272, -0.9340552061023616]'),(6,'hè',280,'\\media\\audio\\track1.mp3','\\media\\images\\album1.jpg',3,2,120020,1,'APPROVED','2025-11-02 05:13:52','2025-11-10 05:16:06','Pop',NULL,'[0.24580338977940383, 0.4835739785214588, 0.5903871311313933, 0.8849005675541006, 0.4797971494798614, 0.844649993330834, -0.9419895434327704, -0.0687546912437893, 0.8867134339966274, 0.2979491062738484, 0.8018009835012454, -0.7735880706937113, -0.06186190443567252, -0.5068543347603394, 0.08752171847186085, 0.14788237585620156, -0.9737716208221956, -0.5665403990723037, -0.44103526797777937, 0.8326907436171038, 0.5314509032582835, -0.6807915752839235, 0.594293982862409, -0.7224651632021937, 0.2349050409322333, -0.7466015348994606, -0.9964502755949308, 0.7428094894485642, -0.5810872350097642, -0.5690376615505355, 0.9648422176518504, 0.7448155308736037, -0.421389664506147, 0.922955977900167, 0.07844693774162126, 0.3556609545011846, -0.5904409709324143, 0.8819520021759981, 0.3812838822138165, 0.9331286246343908, 0.787483355152957, -0.4024222042922645, -0.2776201305552317, -0.6680878857405088, -0.708596180918635, -0.8697205732486475, -0.39728179846107503, 0.20621999481530873, -0.9932337612512864, 0.35586849909538243, -0.3242062767442697, -0.3800841367937424, 0.6370361492941417, -0.03850962673992209, -0.3684137883071119, -0.03756322752627228, 0.4093382682818185, -0.8859981409284201, 0.9501991262884706, -0.9542688734945586, 0.4995900445825465, 0.6897617787762593, -0.9638649292429398, 0.5754766079608684, -0.26763104831627893, 0.15703765811374917, -0.9818432263609432, -0.906545762602117, -0.6381610240979043, 0.9103597991823328, -0.6069566589739837, 0.5114728249026355, 0.8593106391950422, 0.8840876588553988, -0.31123637389397607, -0.29041358988417554, 0.04940364138623998, 0.5512060293979906, -0.7838942618703342, 0.4967961129693262, 0.5944533551826656, 0.7193886383751602, -0.926736840114345, 0.8916003700843675, -0.8176402716564628, -0.31851892899155554, 0.2216550761852485, 0.8361743710666243, -0.3200809467483108, 0.8483952388555813, 0.09028807419647776, -0.37509926131418614, -0.3664000286732456, -0.6450444489900229, -0.843607535558853, -0.7022639107535029, 0.3783491746977503, 0.9934536290734076, -0.6769410711507675, -0.9028956729030876, 0.9733982175685348, 0.06706148272166867, -0.18822395754119037, -0.5253267922914253, 0.1879204413865938, 0.6525910235972532, -0.0886697970186705, -0.1564854361768213, -0.8885855379842131, 0.8321386968839819, -0.9345575600614484, -0.012871603158335576, 0.6768585623362644, -0.73885634569376, 0.46332884675335295, 0.8995971252437975, 0.2607985868527891, 0.576019099560714, -0.7867387806054822, -0.13088961879912575, -0.7015093109194843, 0.6894677940107259, -0.41037414757605783, -0.09369017300004769, 0.998599896138936, 0.7045053417874858, 0.952015139493262, -0.09292002081675332]'),(7,'hè',350,'\\media\\audio\\track1.mp3','\\media\\images\\album1.jpg',4,3,45015,1,'APPROVED','2025-11-02 05:13:52','2025-11-10 05:16:07','Pop',NULL,'[0.24580338977940383, 0.4835739785214588, 0.5903871311313933, 0.8849005675541006, 0.4797971494798614, 0.844649993330834, -0.9419895434327704, -0.0687546912437893, 0.8867134339966274, 0.2979491062738484, 0.8018009835012454, -0.7735880706937113, -0.06186190443567252, -0.5068543347603394, 0.08752171847186085, 0.14788237585620156, -0.9737716208221956, -0.5665403990723037, -0.44103526797777937, 0.8326907436171038, 0.5314509032582835, -0.6807915752839235, 0.594293982862409, -0.7224651632021937, 0.2349050409322333, -0.7466015348994606, -0.9964502755949308, 0.7428094894485642, -0.5810872350097642, -0.5690376615505355, 0.9648422176518504, 0.7448155308736037, -0.421389664506147, 0.922955977900167, 0.07844693774162126, 0.3556609545011846, -0.5904409709324143, 0.8819520021759981, 0.3812838822138165, 0.9331286246343908, 0.787483355152957, -0.4024222042922645, -0.2776201305552317, -0.6680878857405088, -0.708596180918635, -0.8697205732486475, -0.39728179846107503, 0.20621999481530873, -0.9932337612512864, 0.35586849909538243, -0.3242062767442697, -0.3800841367937424, 0.6370361492941417, -0.03850962673992209, -0.3684137883071119, -0.03756322752627228, 0.4093382682818185, -0.8859981409284201, 0.9501991262884706, -0.9542688734945586, 0.4995900445825465, 0.6897617787762593, -0.9638649292429398, 0.5754766079608684, -0.26763104831627893, 0.15703765811374917, -0.9818432263609432, -0.906545762602117, -0.6381610240979043, 0.9103597991823328, -0.6069566589739837, 0.5114728249026355, 0.8593106391950422, 0.8840876588553988, -0.31123637389397607, -0.29041358988417554, 0.04940364138623998, 0.5512060293979906, -0.7838942618703342, 0.4967961129693262, 0.5944533551826656, 0.7193886383751602, -0.926736840114345, 0.8916003700843675, -0.8176402716564628, -0.31851892899155554, 0.2216550761852485, 0.8361743710666243, -0.3200809467483108, 0.8483952388555813, 0.09028807419647776, -0.37509926131418614, -0.3664000286732456, -0.6450444489900229, -0.843607535558853, -0.7022639107535029, 0.3783491746977503, 0.9934536290734076, -0.6769410711507675, -0.9028956729030876, 0.9733982175685348, 0.06706148272166867, -0.18822395754119037, -0.5253267922914253, 0.1879204413865938, 0.6525910235972532, -0.0886697970186705, -0.1564854361768213, -0.8885855379842131, 0.8321386968839819, -0.9345575600614484, -0.012871603158335576, 0.6768585623362644, -0.73885634569376, 0.46332884675335295, 0.8995971252437975, 0.2607985868527891, 0.576019099560714, -0.7867387806054822, -0.13088961879912575, -0.7015093109194843, 0.6894677940107259, -0.41037414757605783, -0.09369017300004769, 0.998599896138936, 0.7045053417874858, 0.952015139493262, -0.09292002081675332]'),(8,'lalaa',290,'\\media\\audio\\track1.mp3','\\media\\images\\album1.jpg',4,3,65027,1,'APPROVED','2025-11-02 05:13:52','2025-11-10 05:16:08','Pop',NULL,'[0.24580338977940383, 0.4835739785214588, 0.5903871311313933, 0.8849005675541006, 0.4797971494798614, 0.844649993330834, -0.9419895434327704, -0.0687546912437893, 0.8867134339966274, 0.2979491062738484, 0.8018009835012454, -0.7735880706937113, -0.06186190443567252, -0.5068543347603394, 0.08752171847186085, 0.14788237585620156, -0.9737716208221956, -0.5665403990723037, -0.44103526797777937, 0.8326907436171038, 0.5314509032582835, -0.6807915752839235, 0.594293982862409, -0.7224651632021937, 0.2349050409322333, -0.7466015348994606, -0.9964502755949308, 0.7428094894485642, -0.5810872350097642, -0.5690376615505355, 0.9648422176518504, 0.7448155308736037, -0.421389664506147, 0.922955977900167, 0.07844693774162126, 0.3556609545011846, -0.5904409709324143, 0.8819520021759981, 0.3812838822138165, 0.9331286246343908, 0.787483355152957, -0.4024222042922645, -0.2776201305552317, -0.6680878857405088, -0.708596180918635, -0.8697205732486475, -0.39728179846107503, 0.20621999481530873, -0.9932337612512864, 0.35586849909538243, -0.3242062767442697, -0.3800841367937424, 0.6370361492941417, -0.03850962673992209, -0.3684137883071119, -0.03756322752627228, 0.4093382682818185, -0.8859981409284201, 0.9501991262884706, -0.9542688734945586, 0.4995900445825465, 0.6897617787762593, -0.9638649292429398, 0.5754766079608684, -0.26763104831627893, 0.15703765811374917, -0.9818432263609432, -0.906545762602117, -0.6381610240979043, 0.9103597991823328, -0.6069566589739837, 0.5114728249026355, 0.8593106391950422, 0.8840876588553988, -0.31123637389397607, -0.29041358988417554, 0.04940364138623998, 0.5512060293979906, -0.7838942618703342, 0.4967961129693262, 0.5944533551826656, 0.7193886383751602, -0.926736840114345, 0.8916003700843675, -0.8176402716564628, -0.31851892899155554, 0.2216550761852485, 0.8361743710666243, -0.3200809467483108, 0.8483952388555813, 0.09028807419647776, -0.37509926131418614, -0.3664000286732456, -0.6450444489900229, -0.843607535558853, -0.7022639107535029, 0.3783491746977503, 0.9934536290734076, -0.6769410711507675, -0.9028956729030876, 0.9733982175685348, 0.06706148272166867, -0.18822395754119037, -0.5253267922914253, 0.1879204413865938, 0.6525910235972532, -0.0886697970186705, -0.1564854361768213, -0.8885855379842131, 0.8321386968839819, -0.9345575600614484, -0.012871603158335576, 0.6768585623362644, -0.73885634569376, 0.46332884675335295, 0.8995971252437975, 0.2607985868527891, 0.576019099560714, -0.7867387806054822, -0.13088961879912575, -0.7015093109194843, 0.6894677940107259, -0.41037414757605783, -0.09369017300004769, 0.998599896138936, 0.7045053417874858, 0.952015139493262, -0.09292002081675332]'),(11,'sa',234,'/uploads/music/5d6ee7315a1085cfe1d55ea69c45ab6ba.mp3','/uploads/covers/267a8d3ff0cd107b10ad9b4101a1010f173bf.jpg',7,23,28,1,'APPROVED','2025-11-07 01:02:55','2025-11-10 05:14:01','Pop',1,'[0.24580338977940383, 0.4835739785214588, 0.5903871311313933, 0.8849005675541006, 0.4797971494798614, 0.844649993330834, -0.9419895434327704, -0.0687546912437893, 0.8867134339966274, 0.2979491062738484, 0.8018009835012454, -0.7735880706937113, -0.06186190443567252, -0.5068543347603394, 0.08752171847186085, 0.14788237585620156, -0.9737716208221956, -0.5665403990723037, -0.44103526797777937, 0.8326907436171038, 0.5314509032582835, -0.6807915752839235, 0.594293982862409, -0.7224651632021937, 0.2349050409322333, -0.7466015348994606, -0.9964502755949308, 0.7428094894485642, -0.5810872350097642, -0.5690376615505355, 0.9648422176518504, 0.7448155308736037, -0.421389664506147, 0.922955977900167, 0.07844693774162126, 0.3556609545011846, -0.5904409709324143, 0.8819520021759981, 0.3812838822138165, 0.9331286246343908, 0.787483355152957, -0.4024222042922645, -0.2776201305552317, -0.6680878857405088, -0.708596180918635, -0.8697205732486475, -0.39728179846107503, 0.20621999481530873, -0.9932337612512864, 0.35586849909538243, -0.3242062767442697, -0.3800841367937424, 0.6370361492941417, -0.03850962673992209, -0.3684137883071119, -0.03756322752627228, 0.4093382682818185, -0.8859981409284201, 0.9501991262884706, -0.9542688734945586, 0.4995900445825465, 0.6897617787762593, -0.9638649292429398, 0.5754766079608684, -0.26763104831627893, 0.15703765811374917, -0.9818432263609432, -0.906545762602117, -0.6381610240979043, 0.9103597991823328, -0.6069566589739837, 0.5114728249026355, 0.8593106391950422, 0.8840876588553988, -0.31123637389397607, -0.29041358988417554, 0.04940364138623998, 0.5512060293979906, -0.7838942618703342, 0.4967961129693262, 0.5944533551826656, 0.7193886383751602, -0.926736840114345, 0.8916003700843675, -0.8176402716564628, -0.31851892899155554, 0.2216550761852485, 0.8361743710666243, -0.3200809467483108, 0.8483952388555813, 0.09028807419647776, -0.37509926131418614, -0.3664000286732456, -0.6450444489900229, -0.843607535558853, -0.7022639107535029, 0.3783491746977503, 0.9934536290734076, -0.6769410711507675, -0.9028956729030876, 0.9733982175685348, 0.06706148272166867, -0.18822395754119037, -0.5253267922914253, 0.1879204413865938, 0.6525910235972532, -0.0886697970186705, -0.1564854361768213, -0.8885855379842131, 0.8321386968839819, -0.9345575600614484, -0.012871603158335576, 0.6768585623362644, -0.73885634569376, 0.46332884675335295, 0.8995971252437975, 0.2607985868527891, 0.576019099560714, -0.7867387806054822, -0.13088961879912575, -0.7015093109194843, 0.6894677940107259, -0.41037414757605783, -0.09369017300004769, 0.998599896138936, 0.7045053417874858, 0.952015139493262, -0.09292002081675332]'),(14,'Hi',268,'/uploads/music/1a72b0ba91474783b09e10280b19851b.mp3','/uploads/covers/df55a8587d5d64cd16258e218928daec.jpg',7,23,0,1,'PENDING','2025-11-09 19:45:31','2025-11-09 19:45:31','Pop',NULL,'[0.24580338977940383, 0.4835739785214588, 0.5903871311313933, 0.8849005675541006, 0.4797971494798614, 0.844649993330834, -0.9419895434327704, -0.0687546912437893, 0.8867134339966274, 0.2979491062738484, 0.8018009835012454, -0.7735880706937113, -0.06186190443567252, -0.5068543347603394, 0.08752171847186085, 0.14788237585620156, -0.9737716208221956, -0.5665403990723037, -0.44103526797777937, 0.8326907436171038, 0.5314509032582835, -0.6807915752839235, 0.594293982862409, -0.7224651632021937, 0.2349050409322333, -0.7466015348994606, -0.9964502755949308, 0.7428094894485642, -0.5810872350097642, -0.5690376615505355, 0.9648422176518504, 0.7448155308736037, -0.421389664506147, 0.922955977900167, 0.07844693774162126, 0.3556609545011846, -0.5904409709324143, 0.8819520021759981, 0.3812838822138165, 0.9331286246343908, 0.787483355152957, -0.4024222042922645, -0.2776201305552317, -0.6680878857405088, -0.708596180918635, -0.8697205732486475, -0.39728179846107503, 0.20621999481530873, -0.9932337612512864, 0.35586849909538243, -0.3242062767442697, -0.3800841367937424, 0.6370361492941417, -0.03850962673992209, -0.3684137883071119, -0.03756322752627228, 0.4093382682818185, -0.8859981409284201, 0.9501991262884706, -0.9542688734945586, 0.4995900445825465, 0.6897617787762593, -0.9638649292429398, 0.5754766079608684, -0.26763104831627893, 0.15703765811374917, -0.9818432263609432, -0.906545762602117, -0.6381610240979043, 0.9103597991823328, -0.6069566589739837, 0.5114728249026355, 0.8593106391950422, 0.8840876588553988, -0.31123637389397607, -0.29041358988417554, 0.04940364138623998, 0.5512060293979906, -0.7838942618703342, 0.4967961129693262, 0.5944533551826656, 0.7193886383751602, -0.926736840114345, 0.8916003700843675, -0.8176402716564628, -0.31851892899155554, 0.2216550761852485, 0.8361743710666243, -0.3200809467483108, 0.8483952388555813, 0.09028807419647776, -0.37509926131418614, -0.3664000286732456, -0.6450444489900229, -0.843607535558853, -0.7022639107535029, 0.3783491746977503, 0.9934536290734076, -0.6769410711507675, -0.9028956729030876, 0.9733982175685348, 0.06706148272166867, -0.18822395754119037, -0.5253267922914253, 0.1879204413865938, 0.6525910235972532, -0.0886697970186705, -0.1564854361768213, -0.8885855379842131, 0.8321386968839819, -0.9345575600614484, -0.012871603158335576, 0.6768585623362644, -0.73885634569376, 0.46332884675335295, 0.8995971252437975, 0.2607985868527891, 0.576019099560714, -0.7867387806054822, -0.13088961879912575, -0.7015093109194843, 0.6894677940107259, -0.41037414757605783, -0.09369017300004769, 0.998599896138936, 0.7045053417874858, 0.952015139493262, -0.09292002081675332]');
/*!40000 ALTER TABLE `song` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `user`
--

DROP TABLE IF EXISTS `user`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `user` (
  `id` int NOT NULL AUTO_INCREMENT,
  `username` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `email` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `password` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Mã hóa bằng bcrypt',
  `role_id` int NOT NULL,
  `gender` enum('male','female','other','prefer not to say') COLLATE utf8mb4_unicode_ci DEFAULT 'prefer not to say' COMMENT 'Giới tính',
  `birth_year` year DEFAULT NULL COMMENT 'Năm sinh (YYYY)',
  `active` tinyint(1) DEFAULT '0',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `email` (`email`),
  KEY `idx_username` (`username`),
  KEY `idx_email` (`email`),
  KEY `idx_role` (`role_id`),
  KEY `idx_gender` (`gender`),
  KEY `idx_birth_year` (`birth_year`),
  CONSTRAINT `user_ibfk_1` FOREIGN KEY (`role_id`) REFERENCES `role` (`id`) ON DELETE RESTRICT
) ENGINE=InnoDB AUTO_INCREMENT=34 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `user`
--

LOCK TABLES `user` WRITE;
/*!40000 ALTER TABLE `user` DISABLE KEYS */;
INSERT INTO `user` VALUES (1,'admin_sys','admin@musicdb.com','$2a$10$wT8QY8Nl.f2o.2k.8mQ4y.E/gQ8M0L/eK0V0T0R0S0T0E',1,'prefer not to say',NULL,1,'2025-11-02 05:13:52','2025-11-02 05:13:52'),(2,'nguyenvana','van.a@listener.com','$2a$10$wT8QY8Nl.f2o.2k.8mQ4y.E/gQ8M0L/eK0V0T0R0S0T0E',2,'male',1999,1,'2025-11-02 05:13:52','2025-11-02 05:13:52'),(3,'tranthib','thi.b@listener.com','$2a$10$wT8QY8Nl.f2o.2k.8mQ4y.E/gQ8M0L/eK0V0T0R0S0T0E',2,'female',2002,1,'2025-11-02 05:13:52','2025-11-02 05:13:52'),(4,'listener_hieu','hieu@music.com','$2a$10$wT8QY8Nl.f2o.2k.8mQ4y.E/gQ8M0L/eK0V0T0R0S0T0E',3,'male',1995,1,'2025-11-02 05:13:52','2025-11-02 06:08:41'),(5,'artist_hoang','hoang@artist.com','$2a$10$wT8QY8Nl.f2o.2k.8mQ4y.E/gQ8M0L/eK0V0T0R0S0T0E',3,'male',1990,0,'2025-11-02 05:13:52','2025-11-08 02:31:23'),(6,'artist_mai','mai@artist.com','$2a$10$wT8QY8Nl.f2o.2k.8mQ4y.E/gQ8M0L/eK0V0T0R0S0T0E',3,'female',1998,1,'2025-11-02 05:13:52','2025-11-02 05:13:52'),(7,'artist_jazzman','jazzman@artist.com','$2a$10$wT8QY8Nl.f2o.2k.8mQ4y.E/gQ8M0L/eK0V0T0R0S0T0E',3,'male',1980,1,'2025-11-02 05:13:52','2025-11-02 05:13:52'),(10,'a','hien8@gmail.com','$2b$10$7kHdw.oR35vaZ69k9RKRe.w2xiQp8loYNwkJmyJI9eMGPQMf1Aqqu',2,'prefer not to say',2009,1,'2025-11-02 06:41:19','2025-11-02 06:41:19'),(11,'hi','a@gmail.com','$2b$10$RoKJpReqm4rtY9vgUX/m2u7orvVIC/xp7FdQeTOT41FLaqgaOZJs.',2,'female',2008,2,'2025-11-02 19:00:36','2025-11-04 07:46:20'),(12,'hii','hi@gmail.com','$2b$10$eG7Ul.n0fAGnn1izstzQd.7ct1l3R93aRuQCKSTCfzlkGGjWkND6a',2,'male',2009,0,'2025-11-02 19:15:36','2025-11-02 19:25:19'),(14,'1','g@gmail.com','$2b$10$WiKn66vC.1Alqzae/k.mxewh6gyoWyW.3wWep5JIqanHPkOtXWmAu',2,'prefer not to say',2009,1,'2025-11-02 20:22:33','2025-11-03 00:18:56'),(28,'a','ayame004@gmail.com','$2b$10$4LFKFqoQ5WOLBZz.oiHEoOqgD6a4Le1nvt2TvJViT.4HS7Dtxvage',3,'female',2009,1,'2025-11-04 08:18:16','2025-11-10 02:31:08'),(29,'za','ayame00a4@gmail.com','$2b$10$wp4h8hVSMzKvgBa5cuUzZOmSQ4.oGzmMI/8FD.8uaAgbIOe//lwzq',3,'prefer not to say',2012,2,'2025-11-04 08:21:12','2025-11-05 05:17:59'),(30,'A','ayame00ZZ4@gmail.com','$2b$10$xstK/w47IU4hNabYTkk98.8gJ7bkXCk8XH/w42tfkcS106KE9y8hS',2,'prefer not to say',2009,2,'2025-11-05 17:38:08','2025-11-05 17:38:08'),(32,'a','ayame004zzz@gmail.com','$2b$10$Yrll29bq/steLmCvdIBbhOZWrHGF6.mgicfnqUnA.en8eAnO6qA0.',2,'male',2010,2,'2025-11-08 02:20:51','2025-11-08 02:20:51'),(33,'hiền','thanhhien09022004@gmail.com','$2b$10$q8b.xgnOsqKo.JiZ4BQ.3.YnYzxD.GWjZut.uCHwTb9F3c88srYO2',1,'female',2012,1,'2025-11-10 02:36:17','2025-11-10 02:44:50');
/*!40000 ALTER TABLE `user` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `after_user_become_artist` AFTER UPDATE ON `user` FOR EACH ROW BEGIN
    -- Role ID 3 là 'artist'
    IF OLD.role_id != 3 AND NEW.role_id = 3 THEN
        INSERT INTO Artist (user_id, stage_name, bio) 
        VALUES (NEW.id, NEW.username, NULL)
        ON DUPLICATE KEY UPDATE stage_name = NEW.username;
    END IF;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `userlikedsongs`
--

DROP TABLE IF EXISTS `userlikedsongs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `userlikedsongs` (
  `user_id` int NOT NULL,
  `song_id` int NOT NULL,
  `liked_at` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`user_id`,`song_id`),
  KEY `song_id` (`song_id`),
  CONSTRAINT `userlikedsongs_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`) ON DELETE CASCADE,
  CONSTRAINT `userlikedsongs_ibfk_2` FOREIGN KEY (`song_id`) REFERENCES `song` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `userlikedsongs`
--

LOCK TABLES `userlikedsongs` WRITE;
/*!40000 ALTER TABLE `userlikedsongs` DISABLE KEYS */;
INSERT INTO `userlikedsongs` VALUES (28,6,'2025-11-08 02:53:12'),(28,8,'2025-11-08 02:53:08');
/*!40000 ALTER TABLE `userlikedsongs` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Dumping events for database 'musicdb'
--

--
-- Dumping routines for database 'musicdb'
--
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2025-11-10  6:04:32
